"use strict";(self["webpackChunkdobby_web"]=self["webpackChunkdobby_web"]||[]).push([[147],{128:function(e,a,t){var o=t(6680);a.Z={HolidayWork:class{constructor({holidayWorkId:e,employeeNo:a,name:t,workDate:o,memo:l,rankName:r}){this.holidayWorkId=e||99999999999,this.employeeNo=a||"",this.name=t||"",this.workDate=o||"",this.memo=l||"",this.rankName=r||""}},async getHolidayWorkList({query:e="",pageNum:a=0,pageSize:t=10,year:l,month:r}){try{let n=`http://localhost:8080/holiday/work/list?pageNum=${a}&pageSize=${t}`;e&&(n+=`&query=${e}`),l&&(n+=`&year=${l}`),r&&(n+=`&month=${r}`);const i=await o.Z.GET(n);return i.result}catch(n){}},async insertHolidayWork(e){if(!e instanceof this.HolidayWork&&console.log("저장 할 데이터가 HolidayWork 형식이 아닙니다."),!e.employeeNo)return alert("사번이 선택되지 않았습니다."),!1;if(!e.workDate)return alert("날짜가 선택되지 않았습니다."),!1;const a={employeeNo:e.employeeNo,workDate:e.workDate,memo:e.memo};return await o.Z.POST("http://localhost:8080/holiday/work/save",a),!0},async updateHolidayWork(e,a){return"number"!==typeof e?(console.log("holidayWorkId가 number형식이 아닙니다."),!1):!a instanceof this.HolidayWork?(console.log("수정 할 데이터가 HolidayWork 형식이 아닙니다."),!1):a.employeeNo?a.workDate?(await o.Z.PUT(`http://localhost:8080/holiday/work/modify/${e}`,a),!0):(alert("날짜가 선택되지 않았습니다."),!1):(alert("사번이 선택되지 않았습니다."),!1)},async deleteHolidayWork(e){return"number"!==typeof e?(console.log("holidayWorkId가 number형식이 아닙니다."),!1):(await o.Z.DELETE(`http://localhost:8080/holiday/work/delete/${e}`),!0)},async getSimpleEmployeeList(){try{const e=await o.Z.GET("http://localhost:8080/employee/simple-info");return e.result}catch(e){return[]}}}},9613:function(e,a,t){var o=t(6680);a.Z={auth:{login(e,a){return o.Z.POST("login",e,a)},adminPasswordChange(e,a){return o.Z.PATCH("auth/password")}},employee:{employeeInsert(e,a){return o.Z.POST("employee/insert",e,a)},employeeList(e,a){return o.Z.GET("employee/list",e,a)},employeeDelete(e,a){return o.Z.DELETE("employee/delete/",e,a)},employeeUpdate(e,a){return o.Z.PUT("employee/update/",e,a)}},dayoff:{dayoffObligation(e,a){return o.Z.POST("dayoff/obligation/",e,a)},dayoffWorkSave(e,a){return o.Z.POST("dayoff/work/save",e,a)},dayoffWorkInfo(e,a){return o.Z.GET("dayoff/work/info",e,a)},dayoffWorkDelete(e,a){return o.Z.DELETE("dayoff/work/delete",e,a)},dayoffUse(e,a){return o.Z.GET("dayoff/employee",e,a)},dayoffRemaining(e,a){return o.Z.GET("dayoff/employee/remaining",e,a)}},calender:{calenderPatternInsert(e,a){return o.Z.POST("calender/pattern/Insert",e,a)},calenderPatternInfo(e,a){return o.Z.GET("calender/pattern/info",e,a)},calenderPatternDelete(e,a){return o.Z.DELETE("/calender/pattern/delete",e,a)}}}},906:function(e,a,t){t.d(a,{Z:function(){return d}});var o=t(3396),l=t(7139);const r={class:"table-container"};function n(e,a,t,n,i,s){return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("table",null,[(0,o._)("thead",null,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.headers,(e=>((0,o.wg)(),(0,o.iD)("th",{key:e},(0,l.zw)(e),1)))),128))])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.tableData,((e,a)=>((0,o.wg)(),(0,o.iD)("tr",{key:a},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,((e,a)=>((0,o.wg)(),(0,o.iD)("td",{key:a},(0,l.zw)(e),1)))),128))])))),128))])])])}var i={name:"TableComponent",props:{headers:{type:Array,required:!0},tableData:{type:Array,required:!0}}},s=t(89);const y=(0,s.Z)(i,[["render",n]]);var d=y},9147:function(e,a,t){t.r(a),t.d(a,{default:function(){return z}});var o=t(3396),l=t(7139),r=t(9242);const n={class:"input-field"},i=["value"],s=(0,o._)("label",{for:"employeeNo"},"사원번호 테스트 조회",-1),y=["value"],d={class:"dayoffTable"},f={class:"inner_wrap"},u=(0,o._)("p",{class:"title"},"계정 정보",-1),m={class:"inner_wrap"},p=(0,o._)("p",{class:"title"},"사원 정보",-1),c={class:"inner_wrap"};function D(e,a,t,D,h,w){const k=(0,o.up)("SimpleInfoTitle"),b=(0,o.up)("ColumTable"),g=(0,o.up)("TableComponent");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",n,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>h.params.year=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.years,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:e},(0,l.zw)(e),9,i)))),128))],512),[[r.bM,h.params.year]]),(0,o._)("div",null,[s,(0,o.wy)((0,o._)("select",{id:"employeeSelect","onUpdate:modelValue":a[1]||(a[1]=e=>h.selectedEmployee=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(h.infos,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.employeeNo,value:e.employeeNo},(0,l.zw)(`${e.employeeNo}/${e.name}`),9,y)))),128))],512),[[r.bM,h.selectedEmployee]]),(0,o._)("button",{onClick:a[2]||(a[2]=(...e)=>w.fetchDayoffRemaining&&w.fetchDayoffRemaining(...e))},"조회")])]),(0,o._)("div",d,[(0,o.Wm)(k,{data:h.dayoffInfo},null,8,["data"]),(0,o._)("div",f,[u,(0,o.Wm)(b,{headers:h.authInfo,tableData:h.authData},null,8,["headers","tableData"])]),(0,o._)("div",m,[p,(0,o.Wm)(b,{headers:h.employeeImfo,tableData:h.employeeData},null,8,["headers","tableData"])]),(0,o._)("div",c,[(0,o.Wm)(g,{headers:h.tableHeaders,tableData:h.employeeDayoffData},null,8,["headers","tableData"])])])],64)}t(560);var h=t(906),w=t(9613);const k={class:"simpleInfoTitle"};function b(e,a,t,r,n,i){return(0,o.wg)(),(0,o.iD)("div",k,[(0,o._)("p",null,(0,l.zw)(t.data.name),1),(0,o._)("p",null,"(지급 연차: "+(0,l.zw)(t.data.totalDayoff),1),(0,o._)("p",null,"사용연차: "+(0,l.zw)(t.data.usedDayoff),1),(0,o._)("p",null,"남은연차: "+(0,l.zw)(t.data.leftDayOff)+")",1)])}var g={name:"SimpleInfoTitle",props:{data:{type:Object,required:!0}}},T=t(89);const Z=(0,T.Z)(g,[["render",b]]);var v=Z;const _={class:"table-container"};function E(e,a,t,r,n,i){return(0,o.wg)(),(0,o.iD)("div",_,[(0,o._)("table",null,[(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.headers,((e,a)=>((0,o.wg)(),(0,o.iD)("tr",{key:a},[(0,o._)("th",null,(0,l.zw)(e),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.tableData,(a=>((0,o.wg)(),(0,o.iD)("td",{key:a[e]},(0,l.zw)(a[e]),1)))),128))])))),128))])])])}var N={name:"ColumTable",props:{headers:{type:Array,required:!0},tableData:{type:Array,required:!0}}};const H=(0,T.Z)(N,[["render",E]]);var I=H,W=t(128),S={name:"DayoffView",components:{SimpleInfoTitle:v,TableComponent:h.Z,ColumTable:I},data(){return{authInfo:["권한","사번","wid"],employeeImfo:["이름","입사년도","직급"],tableHeaders:["연차종류","시작날짜","종료날짜","기한"],authData:[],employeeData:[],employeeDayoffData:[],selectedEmployee:"",infos:[],dayoffInfo:{},params:{employeeNo:"",year:(new Date).getFullYear()}}},computed:{years(){const e=(new Date).getFullYear(),a=[];for(let t=2021;t<=e;t++)a.push(t);return a}},mounted(){this.initSimpleEmployeeList()},methods:{async fetchDayoffRemaining(){this.params.employeeNo=this.selectedEmployee;const e={};try{const a=await w.Z.dayoff.dayoffRemaining(this.params,e),t=await w.Z.dayoff.dayoffUse(this.params,e);this.dayoffInfo={name:t.result.name,totalDayoff:t.result.totalDayoff,usedDayoff:t.result.usedDayoff,leftDayOff:t.result.leftDayOff},this.authData=[{"권한":a.result[0].rankName,"사번":a.result[0].employeeNo,wid:a.result[0].wid}],this.employeeData=[{"이름":a.result[0].name,"입사년도":a.result[0].joiningDt,"직급":a.result[0].rankName}],this.employeeDayoffData=a.result.map((e=>({"연차종류":e.codeName,"시작날짜":e.startDayoffDt,"종료날짜":e.endDayoffDt,"기한":e.usedDayoff})))}catch(a){console.error("Failed to fetch data:",a)}},async initSimpleEmployeeList(){try{const e=await W.Z.getSimpleEmployeeList();this.infos=e.map((e=>({employeeNo:e.employeeNo,name:e.name})))}catch(e){console.error(e)}}}};const P=(0,T.Z)(S,[["render",D]]);var z=P}}]);
//# sourceMappingURL=147.551282b2.js.map